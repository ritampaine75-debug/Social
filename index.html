<script>document.write(decodeURIComponent(escape(atob("PCFET0NUWVBFIGh0bWw+CjxodG1sIGxhbmc9ImVuIj4KPGhlYWQ+CiAgICA8bWV0YSBjaGFyc2V0PSJVVEYtOCI+CiAgICA8bWV0YSBuYW1lPSJ2aWV3cG9ydCIgY29udGVudD0id2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgbWF4aW11bS1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9bm8iPgogICAgPHRpdGxlPlNvY2lhbCBTbmFwIGJ5IHJpdGFtPC90aXRsZT4KICAgIAogICAgCiAgICA8bGluayBocmVmPSJodHRwczovL2ZvbnRzLmdvb2dsZWFwaXMuY29tL2NzczI/ZmFtaWx5PVJvYm90bzp3Z2h0QDMwMDs0MDA7NTAwOzcwMCZkaXNwbGF5PXN3YXAiIHJlbD0ic3R5bGVzaGVldCI+CiAgICA8bGluayByZWw9InN0eWxlc2hlZXQiIGhyZWY9Imh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2ZvbnQtYXdlc29tZS82LjQuMC9jc3MvYWxsLm1pbi5jc3MiPgoKICAgIDxzdHlsZT4KICAgICAgICA6cm9vdCB7CiAgICAgICAgICAgIC0tcHJpbWFyeTogIzE4NzdGMjsKICAgICAgICAgICAgLS1wcmltYXJ5LWRhcms6ICMxNDVkYmY7CiAgICAgICAgICAgIC0tYmctY29sb3I6ICNmMGYyZjU7CiAgICAgICAgICAgIC0tY2FyZC1iZzogI2ZmZmZmZjsKICAgICAgICAgICAgLS10ZXh0LW1haW46ICMwNTA1MDU7CiAgICAgICAgICAgIC0tdGV4dC1zZWM6ICM2NTY3NmI7CiAgICAgICAgICAgIC0tZGFuZ2VyOiAjZGMzNTQ1OwogICAgICAgICAgICAtLWJvcmRlcjogI2RkZDsKICAgICAgICAgICAgLS1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsIDAsIDAsIDAuMSk7CiAgICAgICAgICAgIC0tcmFkaXVzOiAxMnB4OwogICAgICAgIH0KCiAgICAgICAgKiB7CiAgICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgICAgICAgICAgIG1hcmdpbjogMDsKICAgICAgICAgICAgcGFkZGluZzogMDsKICAgICAgICAgICAgZm9udC1mYW1pbHk6ICdSb2JvdG8nLCBzYW5zLXNlcmlmOwogICAgICAgICAgICAtd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6IHRyYW5zcGFyZW50OwogICAgICAgIH0KCiAgICAgICAgYm9keSB7CiAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJnLWNvbG9yKTsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtbWFpbik7CiAgICAgICAgICAgIGhlaWdodDogMTAwdmg7CiAgICAgICAgICAgIG92ZXJmbG93LXg6IGhpZGRlbjsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICB9CgogICAgICAgIC8qIC0tLSBVdGlsaXR5ICYgQW5pbWF0aW9ucyAtLS0gKi8KICAgICAgICAuaGlkZGVuIHsgZGlzcGxheTogbm9uZSAhaW1wb3J0YW50OyB9CiAgICAgICAgLmZhZGUtaW4geyBhbmltYXRpb246IGZhZGVJbiAwLjNzIGVhc2UtaW47IH0KICAgICAgICBAa2V5ZnJhbWVzIGZhZGVJbiB7IGZyb20geyBvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTBweCk7IH0gdG8geyBvcGFjaXR5OiAxOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCk7IH0gfQogICAgICAgIAogICAgICAgIGJ1dHRvbiB7IGN1cnNvcjogcG9pbnRlcjsgYm9yZGVyOiBub25lOyBvdXRsaW5lOiBub25lOyB9CiAgICAgICAgaW5wdXQgeyBvdXRsaW5lOiBub25lOyB9CgogICAgICAgIC8qIC0tLSBBdXRoIFNjcmVlbiAtLS0gKi8KICAgICAgICAjYXV0aC12aWV3IHsKICAgICAgICAgICAgZmxleDogMTsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIHBhZGRpbmc6IDIwcHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IGxpbmVhci1ncmFkaWVudCgxMzVkZWcsICNmMGY0ZmYgMCUsICNmZmZmZmYgMTAwJSk7CiAgICAgICAgfQoKICAgICAgICAuYXV0aC1jYXJkIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICAgIHBhZGRpbmc6IDMwcHggMjBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTZweDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIG1heC13aWR0aDogNDAwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgNHB4IDEycHggcmdiYSgwLDAsMCwwLjEpOwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgfQoKICAgICAgICAuYXBwLWxvZ28gewogICAgICAgICAgICBmb250LXNpemU6IDNyZW07CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICB9CgogICAgICAgIC5hdXRoLWlucHV0IHsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIHBhZGRpbmc6IDE0cHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEycHg7CiAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHZhcigtLWJvcmRlcik7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICB0cmFuc2l0aW9uOiAwLjNzOwogICAgICAgIH0KCiAgICAgICAgLmF1dGgtaW5wdXQ6Zm9jdXMgeyBib3JkZXItY29sb3I6IHZhcigtLXByaW1hcnkpOyB9CgogICAgICAgIC5idG4tcHJpbWFyeSB7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAxNHB4OwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMTBweDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogMC4yczsKICAgICAgICB9CgogICAgICAgIC5idG4tcHJpbWFyeTphY3RpdmUgeyB0cmFuc2Zvcm06IHNjYWxlKDAuOTgpOyB9CgogICAgICAgIC5idG4tZ29vZ2xlIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2RiNDQzNzsKICAgICAgICB9CgogICAgICAgIC5hdXRoLXRvZ2dsZSB7CiAgICAgICAgICAgIG1hcmdpbi10b3A6IDE1cHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICBjdXJzb3I6IHBvaW50ZXI7CiAgICAgICAgfQoKICAgICAgICAvKiAtLS0gTWFpbiBBcHAgSGVhZGVyIC0tLSAqLwogICAgICAgIGhlYWRlciB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4IDE2cHg7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgcG9zaXRpb246IHN0aWNreTsKICAgICAgICAgICAgdG9wOiAwOwogICAgICAgICAgICB6LWluZGV4OiAxMDA7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMnB4IDRweCByZ2JhKDAsMCwwLDAuMDUpOwogICAgICAgIH0KCiAgICAgICAgLmhlYWRlci10aXRsZSB7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDcwMDsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgIH0KCiAgICAgICAgLnVzZXItbmF2IHsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgZ2FwOiAxNXB4OwogICAgICAgIH0KCiAgICAgICAgLnVzZXItYXZhdGFyLXNtYWxsIHsKICAgICAgICAgICAgd2lkdGg6IDM2cHg7CiAgICAgICAgICAgIGhlaWdodDogMzZweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNTAlOwogICAgICAgICAgICBvYmplY3QtZml0OiBjb3ZlcjsKICAgICAgICAgICAgYm9yZGVyOiAycHggc29saWQgdmFyKC0tYm9yZGVyKTsKICAgICAgICAgICAgY3Vyc29yOiBwb2ludGVyOwogICAgICAgIH0KCiAgICAgICAgLyogLS0tIEZlZWQgLS0tICovCiAgICAgICAgI2ZlZWQtY29udGFpbmVyIHsKICAgICAgICAgICAgZmxleDogMTsKICAgICAgICAgICAgb3ZlcmZsb3cteTogYXV0bzsKICAgICAgICAgICAgcGFkZGluZzogMTBweCAwIDgwcHggMDsKICAgICAgICAgICAgbWF4LXdpZHRoOiA2MDBweDsKICAgICAgICAgICAgbWFyZ2luOiAwIGF1dG87CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgIH0KCiAgICAgICAgLyogLS0tIFBvc3QgQ2FyZCAtLS0gKi8KICAgICAgICAucG9zdC1jYXJkIHsKICAgICAgICAgICAgYmFja2dyb3VuZDogd2hpdGU7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDJweCByZ2JhKDAsMCwwLDAuMDUpOwogICAgICAgIH0KCiAgICAgICAgQG1lZGlhIChtaW4td2lkdGg6IDYwMHB4KSB7CiAgICAgICAgICAgIC5wb3N0LWNhcmQgeyBib3JkZXItcmFkaXVzOiB2YXIoLS1yYWRpdXMpOyBtYXJnaW46IDE1cHggMDsgYm94LXNoYWRvdzogdmFyKC0tc2hhZG93KTsgfQogICAgICAgIH0KCiAgICAgICAgLnBvc3QtaGVhZGVyIHsKICAgICAgICAgICAgcGFkZGluZzogMTJweCAxNnB4OwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0OwogICAgICAgIH0KCiAgICAgICAgLnBvc3QtYXV0aG9yLWluZm8gewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDEwcHg7CiAgICAgICAgfQoKICAgICAgICAucG9zdC1hdmF0YXIgewogICAgICAgICAgICB3aWR0aDogNDBweDsKICAgICAgICAgICAgaGVpZ2h0OiA0MHB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgIH0KCiAgICAgICAgLmF1dGhvci1uYW1lIHsKICAgICAgICAgICAgZm9udC13ZWlnaHQ6IDYwMDsKICAgICAgICAgICAgZm9udC1zaXplOiAxNnB4OwogICAgICAgICAgICBjb2xvcjogdmFyKC0tdGV4dC1tYWluKTsKICAgICAgICB9CgogICAgICAgIC5wb3N0LXRpbWUgewogICAgICAgICAgICBmb250LXNpemU6IDEycHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlYyk7CiAgICAgICAgfQoKICAgICAgICAuZGVsZXRlLWJ0biB7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LXNlYyk7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50OwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgICAgIHBhZGRpbmc6IDVweDsKICAgICAgICB9CgogICAgICAgIC5wb3N0LWNhcHRpb24gewogICAgICAgICAgICBwYWRkaW5nOiAwIDE2cHggMTJweCAxNnB4OwogICAgICAgICAgICBmb250LXNpemU6IDE1cHg7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW1haW4pOwogICAgICAgICAgICBsaW5lLWhlaWdodDogMS40OwogICAgICAgIH0KCiAgICAgICAgLnBvc3QtaW1hZ2UgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgaGVpZ2h0OiBhdXRvOwogICAgICAgICAgICBkaXNwbGF5OiBibG9jazsKICAgICAgICAgICAgYmFja2dyb3VuZDogI2VlZTsKICAgICAgICAgICAgbWluLWhlaWdodDogMjAwcHg7CiAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvdmVyOwogICAgICAgIH0KCiAgICAgICAgLnBvc3QtYWN0aW9ucyB7CiAgICAgICAgICAgIHBhZGRpbmc6IDhweCAxNnB4OwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47CiAgICAgICAgICAgIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjZjBmMGYwOwogICAgICAgIH0KCiAgICAgICAgLmFjdGlvbi1idG4gewogICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXRleHQtc2VjKTsKICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4OwogICAgICAgICAgICBmb250LXdlaWdodDogNTAwOwogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyOwogICAgICAgICAgICBnYXA6IDZweDsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDA7CiAgICAgICAgICAgIGZsZXg6IDE7CiAgICAgICAgfQoKICAgICAgICAuYWN0aW9uLWJ0bi5saWtlZCB7IGNvbG9yOiB2YXIoLS1wcmltYXJ5KTsgfQogICAgICAgIC5hY3Rpb24tYnRuIGkgeyBmb250LXNpemU6IDE4cHg7IH0KCiAgICAgICAgLyogLS0tIENvbW1lbnRzIC0tLSAqLwogICAgICAgIC5jb21tZW50LXNlY3Rpb24gewogICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDE2cHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgIH0KCiAgICAgICAgLmNvbW1lbnQtbGlzdCB7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDEwcHg7CiAgICAgICAgICAgIG1heC1oZWlnaHQ6IDE1MHB4OwogICAgICAgICAgICBvdmVyZmxvdy15OiBhdXRvOwogICAgICAgIH0KCiAgICAgICAgLmNvbW1lbnQtaXRlbSB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGdhcDogMTBweDsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogOHB4OwogICAgICAgICAgICBmb250LXNpemU6IDE0cHg7CiAgICAgICAgfQoKICAgICAgICAuY29tbWVudC1hdmF0YXIgewogICAgICAgICAgICB3aWR0aDogMzJweDsKICAgICAgICAgICAgaGVpZ2h0OiAzMnB4OwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgfQoKICAgICAgICAuY29tbWVudC1idWJibGUgewogICAgICAgICAgICBiYWNrZ3JvdW5kOiAjZjBmMmY1OwogICAgICAgICAgICBwYWRkaW5nOiA4cHggMTJweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMTJweDsKICAgICAgICB9CgogICAgICAgIC5jb21tZW50LWF1dGhvciB7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTNweDsKICAgICAgICB9CgogICAgICAgIC5jb21tZW50LWlucHV0LWFyZWEgewogICAgICAgICAgICBkaXNwbGF5OiBmbGV4OwogICAgICAgICAgICBnYXA6IDEwcHg7CiAgICAgICAgICAgIGJvcmRlci10b3A6IDFweCBzb2xpZCAjZjBmMGYwOwogICAgICAgICAgICBwYWRkaW5nLXRvcDogMTBweDsKICAgICAgICB9CgogICAgICAgIC5jb21tZW50LWlucHV0IHsKICAgICAgICAgICAgZmxleDogMTsKICAgICAgICAgICAgcGFkZGluZzogOHB4IDEycHg7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmMGYyZjU7CiAgICAgICAgICAgIGJvcmRlcjogbm9uZTsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweDsKICAgICAgICB9CgogICAgICAgIC5zZW5kLWNvbW1lbnQtYnRuIHsKICAgICAgICAgICAgY29sb3I6IHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBmb250LXdlaWdodDogNjAwOwogICAgICAgICAgICBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsKICAgICAgICB9CgogICAgICAgIC8qIC0tLSBGQUIgLS0tICovCiAgICAgICAgLmZhYiB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgYm90dG9tOiAyMHB4OwogICAgICAgICAgICByaWdodDogMjBweDsKICAgICAgICAgICAgd2lkdGg6IDU2cHg7CiAgICAgICAgICAgIGhlaWdodDogNTZweDsKICAgICAgICAgICAgYmFja2dyb3VuZDogdmFyKC0tcHJpbWFyeSk7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDUwJTsKICAgICAgICAgICAgYm94LXNoYWRvdzogMCA0cHggMTBweCByZ2JhKDAsMCwwLDAuMyk7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyOwogICAgICAgICAgICBjb2xvcjogd2hpdGU7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMjRweDsKICAgICAgICAgICAgei1pbmRleDogMjAwOwogICAgICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gMC4yczsKICAgICAgICB9CgogICAgICAgIC5mYWI6YWN0aXZlIHsgdHJhbnNmb3JtOiBzY2FsZSgwLjkpOyB9CgogICAgICAgIC8qIC0tLSBNb2RhbHMgLS0tICovCiAgICAgICAgLm1vZGFsLW92ZXJsYXkgewogICAgICAgICAgICBwb3NpdGlvbjogZml4ZWQ7CiAgICAgICAgICAgIHRvcDogMDsKICAgICAgICAgICAgbGVmdDogMDsKICAgICAgICAgICAgd2lkdGg6IDEwMCU7CiAgICAgICAgICAgIGhlaWdodDogMTAwJTsKICAgICAgICAgICAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwwLjYpOwogICAgICAgICAgICBiYWNrZHJvcC1maWx0ZXI6IGJsdXIoNHB4KTsKICAgICAgICAgICAgei1pbmRleDogMTAwMDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDsgLyogQm90dG9tIHNoZWV0IHN0eWxlICovCiAgICAgICAgfQoKICAgICAgICAubW9kYWwtY2FyZCB7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHdoaXRlOwogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWF4LXdpZHRoOiA2MDBweDsKICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogMjBweCAyMHB4IDAgMDsKICAgICAgICAgICAgcGFkZGluZzogMjBweDsKICAgICAgICAgICAgYW5pbWF0aW9uOiBzbGlkZVVwIDAuM3MgZWFzZS1vdXQ7CiAgICAgICAgfQoKICAgICAgICBAa2V5ZnJhbWVzIHNsaWRlVXAgeyBmcm9tIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDEwMCUpOyB9IHRvIHsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKDApOyB9IH0KCiAgICAgICAgLm1vZGFsLWhlYWRlciB7CiAgICAgICAgICAgIGRpc3BsYXk6IGZsZXg7CiAgICAgICAgICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjsKICAgICAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjsKICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMjBweDsKICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNlZWU7CiAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4OwogICAgICAgIH0KCiAgICAgICAgLm1vZGFsLXRpdGxlIHsgZm9udC13ZWlnaHQ6IDcwMDsgZm9udC1zaXplOiAxOHB4OyB9CiAgICAgICAgLmNsb3NlLW1vZGFsIHsgZm9udC1zaXplOiAyNHB4OyBiYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDsgY29sb3I6ICMzMzM7IH0KCiAgICAgICAgLmltYWdlLXByZXZpZXcgewogICAgICAgICAgICB3aWR0aDogMTAwJTsKICAgICAgICAgICAgbWF4LWhlaWdodDogMjUwcHg7CiAgICAgICAgICAgIG9iamVjdC1maXQ6IGNvbnRhaW47CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNmMGYyZjU7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDsKICAgICAgICAgICAgZGlzcGxheTogbm9uZTsKICAgICAgICB9CgogICAgICAgIC5maWxlLWxhYmVsIHsKICAgICAgICAgICAgZGlzcGxheTogYmxvY2s7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBwYWRkaW5nOiAxMnB4OwogICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7CiAgICAgICAgICAgIGJhY2tncm91bmQ6ICNlNGU2ZWI7CiAgICAgICAgICAgIGNvbG9yOiB2YXIoLS10ZXh0LW1haW4pOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA4cHg7CiAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDE1cHg7CiAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiA2MDA7CiAgICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjsKICAgICAgICB9CgogICAgICAgIC8qIC0tLSBMb2FkaW5nIFNwaW5uZXIgLS0tICovCiAgICAgICAgLmxvYWRlci1vdmVybGF5IHsKICAgICAgICAgICAgcG9zaXRpb246IGZpeGVkOwogICAgICAgICAgICB0b3A6IDA7CiAgICAgICAgICAgIGxlZnQ6IDA7CiAgICAgICAgICAgIHdpZHRoOiAxMDAlOwogICAgICAgICAgICBoZWlnaHQ6IDEwMCU7CiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMjU1LDI1NSwyNTUsMC44KTsKICAgICAgICAgICAgei1pbmRleDogMjAwMDsKICAgICAgICAgICAgZGlzcGxheTogZmxleDsKICAgICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7CiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7CiAgICAgICAgfQogICAgICAgIC5zcGlubmVyIHsKICAgICAgICAgICAgYm9yZGVyOiA0cHggc29saWQgI2YzZjNmMzsKICAgICAgICAgICAgYm9yZGVyLXRvcDogNHB4IHNvbGlkIHZhcigtLXByaW1hcnkpOwogICAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7CiAgICAgICAgICAgIHdpZHRoOiA0MHB4OwogICAgICAgICAgICBoZWlnaHQ6IDQwcHg7CiAgICAgICAgICAgIGFuaW1hdGlvbjogc3BpbiAxcyBsaW5lYXIgaW5maW5pdGU7CiAgICAgICAgfQogICAgICAgIEBrZXlmcmFtZXMgc3BpbiB7IDAlIHsgdHJhbnNmb3JtOiByb3RhdGUoMGRlZyk7IH0gMTAwJSB7IHRyYW5zZm9ybTogcm90YXRlKDM2MGRlZyk7IH0gfQoKICAgICAgICAvKiBUb2FzdCAqLwogICAgICAgIC50b2FzdCB7CiAgICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgICAgICAgICAgYm90dG9tOiA4MHB4OwogICAgICAgICAgICBsZWZ0OiA1MCU7CiAgICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTsKICAgICAgICAgICAgYmFja2dyb3VuZDogIzMzMzsKICAgICAgICAgICAgY29sb3I6IHdoaXRlOwogICAgICAgICAgICBwYWRkaW5nOiAxMHB4IDIwcHg7CiAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDIwcHg7CiAgICAgICAgICAgIGZvbnQtc2l6ZTogMTRweDsKICAgICAgICAgICAgei1pbmRleDogMzAwMDsKICAgICAgICAgICAgb3BhY2l0eTogMDsKICAgICAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAwLjNzOwogICAgICAgICAgICBwb2ludGVyLWV2ZW50czogbm9uZTsKICAgICAgICB9CiAgICAgICAgLnRvYXN0LnNob3cgeyBvcGFjaXR5OiAxOyB9CgogICAgPC9zdHlsZT4KPC9oZWFkPgo8Ym9keT4KCiAgICAKICAgIDxkaXYgaWQ9ImxvYWRlciIgY2xhc3M9ImxvYWRlci1vdmVybGF5IGhpZGRlbiI+CiAgICAgICAgPGRpdiBjbGFzcz0ic3Bpbm5lciI+PC9kaXY+CiAgICA8L2Rpdj4KCiAgICAKICAgIDxkaXYgaWQ9InRvYXN0IiBjbGFzcz0idG9hc3QiPkFjdGlvbiBjb21wbGV0ZWQ8L2Rpdj4KCiAgICAKICAgIDxkaXYgaWQ9ImF1dGgtdmlldyI+CiAgICAgICAgPGRpdiBjbGFzcz0iYXV0aC1jYXJkIGZhZGUtaW4iPgogICAgICAgICAgIAogICAgICAgICAgICA8aDIgc3R5bGU9Im1hcmdpbi1ib3R0b206IDIwcHg7Ij5XZWxjb21lIEJhY2s8L2gyPgogICAgICAgICAgICAKICAgICAgICAgICAgPGlucHV0IHR5cGU9ImVtYWlsIiBpZD0iZW1haWwtaW5wdXQiIGNsYXNzPSJhdXRoLWlucHV0IiBwbGFjZWhvbGRlcj0iRW1haWwgQWRkcmVzcyI+CiAgICAgICAgICAgIDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgaWQ9InBhc3MtaW5wdXQiIGNsYXNzPSJhdXRoLWlucHV0IiBwbGFjZWhvbGRlcj0iUGFzc3dvcmQiPgogICAgICAgICAgICAKICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLXByaW1hcnkiIGlkPSJidG4tbG9naW4iPkxvZyBJbjwvYnV0dG9uPgogICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJidG4tcHJpbWFyeSBidG4tZ29vZ2xlIiBpZD0iYnRuLWdvb2dsZSI+CiAgICAgICAgICAgICAgICAgQ29udGludWUgd2l0aCBHb29nbGUKICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImJ0bi1wcmltYXJ5IGhpZGRlbiIgaWQ9ImJ0bi1yZWdpc3RlciIgc3R5bGU9ImJhY2tncm91bmQ6ICM0MmI3MmE7Ij5DcmVhdGUgQWNjb3VudDwvYnV0dG9uPgogICAgICAgICAgICAKICAgICAgICAgICAgPHAgY2xhc3M9ImF1dGgtdG9nZ2xlIiBpZD0idG9nZ2xlLWF1dGgiPkRvbid0IGhhdmUgYW4gYWNjb3VudD8gU2lnbiBVcDwvcD4KICAgICAgICA8L2Rpdj4KICAgIDwvZGl2PgoKICAgIAogICAgPGRpdiBpZD0iYXBwLXZpZXciIGNsYXNzPSJoaWRkZW4iPgogICAgICAgIDxoZWFkZXI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9ImhlYWRlci10aXRsZSI+U29jaWFsU25hcDwvZGl2PgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJ1c2VyLW5hdiI+CiAgICAgICAgICAgICAgICA8aW1nIGlkPSJoZWFkZXItYXZhdGFyIiBzcmM9IiIgY2xhc3M9InVzZXItYXZhdGFyLXNtYWxsIiBhbHQ9IlByb2ZpbGUiIG9uY2xpY2s9Im9wZW5Qcm9maWxlTW9kYWwoKSI+CiAgICAgICAgICAgICAgICA8YnV0dG9uIG9uY2xpY2s9ImxvZ291dCgpIiBzdHlsZT0iYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7IGNvbG9yOiB2YXIoLS10ZXh0LXNlYyk7IGZvbnQtc2l6ZTogMjBweDsiPgogICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtc2lnbi1vdXQtYWx0Ij48L2k+CiAgICAgICAgICAgICAgICA8L2J1dHRvbj4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgPC9oZWFkZXI+CgogICAgICAgIDxkaXYgaWQ9ImZlZWQtY29udGFpbmVyIj4KICAgICAgICAgICAgCiAgICAgICAgPC9kaXY+CgogICAgICAgIDxkaXYgY2xhc3M9ImZhYiIgb25jbGljaz0ib3BlblBvc3RNb2RhbCgpIj4KICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1wbHVzIj48L2k+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICAKICAgIDxkaXYgaWQ9InBvc3QtbW9kYWwiIGNsYXNzPSJtb2RhbC1vdmVybGF5IGhpZGRlbiI+CiAgICAgICAgPGRpdiBjbGFzcz0ibW9kYWwtY2FyZCI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWhlYWRlciI+CiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz0ibW9kYWwtdGl0bGUiPkNyZWF0ZSBQb3N0PC9zcGFuPgogICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iY2xvc2UtbW9kYWwiIG9uY2xpY2s9ImNsb3NlTW9kYWwoJ3Bvc3QtbW9kYWwnKSI+JnRpbWVzOzwvYnV0dG9uPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgCiAgICAgICAgICAgIDxsYWJlbCBmb3I9InBvc3QtZmlsZSIgY2xhc3M9ImZpbGUtbGFiZWwiPgogICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS1pbWFnZSI+PC9pPiBTZWxlY3QgUGhvdG8KICAgICAgICAgICAgPC9sYWJlbD4KICAgICAgICAgICAgPGlucHV0IHR5cGU9ImZpbGUiIGlkPSJwb3N0LWZpbGUiIGFjY2VwdD0iaW1hZ2UvKiIgaGlkZGVuIG9uY2hhbmdlPSJwcmV2aWV3SW1hZ2UodGhpcywgJ3Bvc3QtcHJldmlldycpIj4KICAgICAgICAgICAgCiAgICAgICAgICAgIDxpbWcgaWQ9InBvc3QtcHJldmlldyIgY2xhc3M9ImltYWdlLXByZXZpZXciPgogICAgICAgICAgICAKICAgICAgICAgICAgPHRleHRhcmVhIGlkPSJwb3N0LWNhcHRpb24iIGNsYXNzPSJhdXRoLWlucHV0IiByb3dzPSIzIiBwbGFjZWhvbGRlcj0iV2hhdCdzIG9uIHlvdXIgbWluZD8iIHN0eWxlPSJyZXNpemU6IG5vbmU7Ij48L3RleHRhcmVhPgogICAgICAgICAgICAKICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLXByaW1hcnkiIG9uY2xpY2s9InVwbG9hZFBvc3QoKSI+UG9zdDwvYnV0dG9uPgogICAgICAgIDwvZGl2PgogICAgPC9kaXY+CgogICAgCiAgICA8ZGl2IGlkPSJwcm9maWxlLW1vZGFsIiBjbGFzcz0ibW9kYWwtb3ZlcmxheSBoaWRkZW4iPgogICAgICAgIDxkaXYgY2xhc3M9Im1vZGFsLWNhcmQiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJtb2RhbC1oZWFkZXIiPgogICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9Im1vZGFsLXRpdGxlIj5FZGl0IFByb2ZpbGUgUGhvdG88L3NwYW4+CiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJjbG9zZS1tb2RhbCIgb25jbGljaz0iY2xvc2VNb2RhbCgncHJvZmlsZS1tb2RhbCcpIj4mdGltZXM7PC9idXR0b24+CiAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAKICAgICAgICAgICAgPGRpdiBzdHlsZT0idGV4dC1hbGlnbjogY2VudGVyOyBtYXJnaW4tYm90dG9tOiAyMHB4OyI+CiAgICAgICAgICAgICAgICA8aW1nIGlkPSJwcm9maWxlLXByZXZpZXctbGFyZ2UiIHNyYz0iIiBjbGFzcz0idXNlci1hdmF0YXItc21hbGwiIHN0eWxlPSJ3aWR0aDogMTAwcHg7IGhlaWdodDogMTAwcHg7Ij4KICAgICAgICAgICAgPC9kaXY+CgogICAgICAgICAgICA8bGFiZWwgZm9yPSJwcm9maWxlLWZpbGUiIGNsYXNzPSJmaWxlLWxhYmVsIj4KICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY2FtZXJhIj48L2k+IENoYW5nZSBQaG90bwogICAgICAgICAgICA8L2xhYmVsPgogICAgICAgICAgICA8aW5wdXQgdHlwZT0iZmlsZSIgaWQ9InByb2ZpbGUtZmlsZSIgYWNjZXB0PSJpbWFnZS8qIiBoaWRkZW4gb25jaGFuZ2U9InByZXZpZXdJbWFnZSh0aGlzLCAncHJvZmlsZS1wcmV2aWV3LWxhcmdlJywgdHJ1ZSkiPgogICAgICAgICAgICAKICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYnRuLXByaW1hcnkiIG9uY2xpY2s9InVwZGF0ZVByb2ZpbGVQaG90bygpIj5TYXZlPC9idXR0b24+CiAgICAgICAgPC9kaXY+CiAgICA8L2Rpdj4KCiAgICAKICAgIDxzY3JpcHQgdHlwZT0ibW9kdWxlIj4KICAgICAgICBpbXBvcnQgeyBpbml0aWFsaXplQXBwIH0gZnJvbSAiaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy85LjIyLjAvZmlyZWJhc2UtYXBwLmpzIjsKICAgICAgICBpbXBvcnQgeyBnZXRBdXRoLCBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQsIHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkLCBzaWduSW5XaXRoUG9wdXAsIEdvb2dsZUF1dGhQcm92aWRlciwgb25BdXRoU3RhdGVDaGFuZ2VkLCBzaWduT3V0LCB1cGRhdGVQcm9maWxlIH0gZnJvbSAiaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy85LjIyLjAvZmlyZWJhc2UtYXV0aC5qcyI7CiAgICAgICAgaW1wb3J0IHsgZ2V0RGF0YWJhc2UsIHJlZiwgcHVzaCwgc2V0LCBvblZhbHVlLCB1cGRhdGUsIHJlbW92ZSwgc2VydmVyVGltZXN0YW1wIH0gZnJvbSAiaHR0cHM6Ly93d3cuZ3N0YXRpYy5jb20vZmlyZWJhc2Vqcy85LjIyLjAvZmlyZWJhc2UtZGF0YWJhc2UuanMiOwoKICAgICAgICAvLyAtLS0gQ29uZmlndXJhdGlvbiAtLS0KICAgICAgICBjb25zdCBmaXJlYmFzZUNvbmZpZyA9IHsKICAgICAgICAgICAgYXBpS2V5OiAiQUl6YVN5RDdjc1NrQUZnVGxXVFBDdkVYQ1BVZmMxQUE1MEhIejFjIiwKICAgICAgICAgICAgYXV0aERvbWFpbjogInJpdGFtLTJkMmRmLmZpcmViYXNlYXBwLmNvbSIsCiAgICAgICAgICAgIGRhdGFiYXNlVVJMOiAiaHR0cHM6Ly9yaXRhbS0yZDJkZi1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20iLAogICAgICAgICAgICBwcm9qZWN0SWQ6ICJyaXRhbS0yZDJkZiIsCiAgICAgICAgICAgIHN0b3JhZ2VCdWNrZXQ6ICJyaXRhbS0yZDJkZi5maXJlYmFzZXN0b3JhZ2UuYXBwIiwKICAgICAgICAgICAgbWVzc2FnaW5nU2VuZGVySWQ6ICI3NTQxNTc1NTM1NzAiLAogICAgICAgICAgICBhcHBJZDogIjE6NzU0MTU3NTUzNTcwOndlYjo4ZjBiNmZkNDNiNjYzZTA2YmZkNGZiIiwKICAgICAgICAgICAgbWVhc3VyZW1lbnRJZDogIkctODk2UjQxM1A2UCIKICAgICAgICB9OwoKICAgICAgICBjb25zdCBJTUdCQl9BUElfS0VZID0gImQ2YWUzNGE2ODA2NjVhYTc2M2UzMmE1YmU4ZmEwODNhIjsKICAgICAgICAKICAgICAgICAvLyAtLS0gSW5pdCBGaXJlYmFzZSAtLS0KICAgICAgICBjb25zdCBhcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTsKICAgICAgICBjb25zdCBhdXRoID0gZ2V0QXV0aChhcHApOwogICAgICAgIGNvbnN0IGRiID0gZ2V0RGF0YWJhc2UoYXBwKTsKICAgICAgICAKICAgICAgICAvLyAtLS0gU3RhdGUgLS0tCiAgICAgICAgbGV0IGN1cnJlbnRVc2VyID0gbnVsbDsKICAgICAgICBsZXQgaXNMb2dpbk1vZGUgPSB0cnVlOwoKICAgICAgICAvLyAtLS0gRE9NIEVsZW1lbnRzIC0tLQogICAgICAgIGNvbnN0IHZpZXdzID0gewogICAgICAgICAgICBhdXRoOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYXV0aC12aWV3JyksCiAgICAgICAgICAgIGFwcDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FwcC12aWV3JyksCiAgICAgICAgICAgIGxvYWRlcjogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2xvYWRlcicpCiAgICAgICAgfTsKICAgICAgICBjb25zdCBpbnB1dHMgPSB7CiAgICAgICAgICAgIGVtYWlsOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwtaW5wdXQnKSwKICAgICAgICAgICAgcGFzczogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bhc3MtaW5wdXQnKQogICAgICAgIH07CiAgICAgICAgY29uc3QgYnV0dG9ucyA9IHsKICAgICAgICAgICAgbG9naW46IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tbG9naW4nKSwKICAgICAgICAgICAgcmVnaXN0ZXI6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidG4tcmVnaXN0ZXInKSwKICAgICAgICAgICAgZ29vZ2xlOiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnRuLWdvb2dsZScpLAogICAgICAgICAgICB0b2dnbGU6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtYXV0aCcpCiAgICAgICAgfTsKCiAgICAgICAgLy8gLS0tIEhlbHBlcnMgLS0tCiAgICAgICAgY29uc3Qgc2hvd0xvYWRlciA9IChzaG93KSA9PiB2aWV3cy5sb2FkZXIuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJywgIXNob3cpOwogICAgICAgIGNvbnN0IHNob3dUb2FzdCA9IChtc2cpID0+IHsKICAgICAgICAgICAgY29uc3QgdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2FzdCcpOwogICAgICAgICAgICB0LnRleHRDb250ZW50ID0gbXNnOwogICAgICAgICAgICB0LmNsYXNzTGlzdC5hZGQoJ3Nob3cnKTsKICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0LmNsYXNzTGlzdC5yZW1vdmUoJ3Nob3cnKSwgMzAwMCk7CiAgICAgICAgfTsKCiAgICAgICAgLy8gLS0tIEF1dGhlbnRpY2F0aW9uIExvZ2ljIC0tLQogICAgICAgIG9uQXV0aFN0YXRlQ2hhbmdlZChhdXRoLCAodXNlcikgPT4gewogICAgICAgICAgICBzaG93TG9hZGVyKGZhbHNlKTsKICAgICAgICAgICAgaWYgKHVzZXIpIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gdXNlcjsKICAgICAgICAgICAgICAgIGluaXRBcHAoKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGN1cnJlbnRVc2VyID0gbnVsbDsKICAgICAgICAgICAgICAgIHZpZXdzLmF1dGguY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICB2aWV3cy5hcHAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgIH0KICAgICAgICB9KTsKCiAgICAgICAgYnV0dG9ucy50b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgIGlzTG9naW5Nb2RlID0gIWlzTG9naW5Nb2RlOwogICAgICAgICAgICBpZihpc0xvZ2luTW9kZSkgewogICAgICAgICAgICAgICAgYnV0dG9ucy5sb2dpbi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgIGJ1dHRvbnMucmVnaXN0ZXIuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICBidXR0b25zLnRvZ2dsZS50ZXh0Q29udGVudCA9ICJEb24ndCBoYXZlIGFuIGFjY291bnQ/IFNpZ24gVXAiOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgYnV0dG9ucy5sb2dpbi5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgICAgIGJ1dHRvbnMucmVnaXN0ZXIuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgICAgICAgICBidXR0b25zLnRvZ2dsZS50ZXh0Q29udGVudCA9ICJBbHJlYWR5IGhhdmUgYW4gYWNjb3VudD8gTG9nIEluIjsKICAgICAgICAgICAgfQogICAgICAgIH0pOwoKICAgICAgICBjb25zdCBoYW5kbGVBdXRoRXJyb3IgPSAoZXJyKSA9PiB7CiAgICAgICAgICAgIHNob3dMb2FkZXIoZmFsc2UpOwogICAgICAgICAgICBhbGVydChlcnIubWVzc2FnZSk7CiAgICAgICAgfTsKCiAgICAgICAgY29uc3Qgc3luY1VzZXJQcm9maWxlID0gKHVzZXIpID0+IHsKICAgICAgICAgICAgY29uc3QgdXNlclJlZiA9IHJlZihkYiwgJ3VzZXJzLycgKyB1c2VyLnVpZCk7CiAgICAgICAgICAgIHVwZGF0ZSh1c2VyUmVmLCB7CiAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogdXNlci5kaXNwbGF5TmFtZSB8fCB1c2VyLmVtYWlsLnNwbGl0KCdAJylbMF0sCiAgICAgICAgICAgICAgICBlbWFpbDogdXNlci5lbWFpbCwKICAgICAgICAgICAgICAgIHBob3RvVVJMOiB1c2VyLnBob3RvVVJMIHx8ICJodHRwczovL2kuaWJiLmNvL2JNbnM0NGtQL2ltYWdlcy5wbmciCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CgogICAgICAgIGJ1dHRvbnMubG9naW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGVtYWlsID0gaW5wdXRzLmVtYWlsLnZhbHVlOwogICAgICAgICAgICBjb25zdCBwYXNzID0gaW5wdXRzLnBhc3MudmFsdWU7CiAgICAgICAgICAgIGlmKCFlbWFpbCB8fCAhcGFzcykgcmV0dXJuIGFsZXJ0KCJQbGVhc2UgZmlsbCBhbGwgZmllbGRzIik7CiAgICAgICAgICAgIHNob3dMb2FkZXIodHJ1ZSk7CiAgICAgICAgICAgIHNpZ25JbldpdGhFbWFpbEFuZFBhc3N3b3JkKGF1dGgsIGVtYWlsLCBwYXNzKS5jYXRjaChoYW5kbGVBdXRoRXJyb3IpOwogICAgICAgIH0pOwoKICAgICAgICBidXR0b25zLnJlZ2lzdGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gewogICAgICAgICAgICBjb25zdCBlbWFpbCA9IGlucHV0cy5lbWFpbC52YWx1ZTsKICAgICAgICAgICAgY29uc3QgcGFzcyA9IGlucHV0cy5wYXNzLnZhbHVlOwogICAgICAgICAgICBpZighZW1haWwgfHwgIXBhc3MpIHJldHVybiBhbGVydCgiUGxlYXNlIGZpbGwgYWxsIGZpZWxkcyIpOwogICAgICAgICAgICBzaG93TG9hZGVyKHRydWUpOwogICAgICAgICAgICBjcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoYXV0aCwgZW1haWwsIHBhc3MpCiAgICAgICAgICAgICAgICAudGhlbigoY3JlZCkgPT4gewogICAgICAgICAgICAgICAgICAgIHN5bmNVc2VyUHJvZmlsZShjcmVkLnVzZXIpOwogICAgICAgICAgICAgICAgICAgIC8vIFNldCBkZWZhdWx0IHByb2ZpbGUgcGljCiAgICAgICAgICAgICAgICAgICAgdXBkYXRlUHJvZmlsZShjcmVkLnVzZXIsIHsKICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG9VUkw6ICJodHRwczovL2kuaWJiLmNvL2JNbnM0NGtQL2ltYWdlcy5wbmciLAogICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TmFtZTogZW1haWwuc3BsaXQoJ0AnKVswXQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICAgIC5jYXRjaChoYW5kbGVBdXRoRXJyb3IpOwogICAgICAgIH0pOwoKICAgICAgICBidXR0b25zLmdvb2dsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHsKICAgICAgICAgICAgY29uc3QgcHJvdmlkZXIgPSBuZXcgR29vZ2xlQXV0aFByb3ZpZGVyKCk7CiAgICAgICAgICAgIHNpZ25JbldpdGhQb3B1cChhdXRoLCBwcm92aWRlcikKICAgICAgICAgICAgICAgIC50aGVuKChyZXMpID0+IHN5bmNVc2VyUHJvZmlsZShyZXMudXNlcikpCiAgICAgICAgICAgICAgICAuY2F0Y2goaGFuZGxlQXV0aEVycm9yKTsKICAgICAgICB9KTsKCiAgICAgICAgd2luZG93LmxvZ291dCA9ICgpID0+IHNpZ25PdXQoYXV0aCk7CgogICAgICAgIC8vIC0tLSBBcHAgTG9naWMgLS0tCiAgICAgICAgZnVuY3Rpb24gaW5pdEFwcCgpIHsKICAgICAgICAgICAgdmlld3MuYXV0aC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTsKICAgICAgICAgICAgdmlld3MuYXBwLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpOwogICAgICAgICAgICAKICAgICAgICAgICAgLy8gU2V0IEhlYWRlciBBdmF0YXIKICAgICAgICAgICAgY29uc3QgYXZhdGFyVXJsID0gY3VycmVudFVzZXIucGhvdG9VUkwgfHwgImh0dHBzOi8vaS5pYmIuY28vYk1uczQ0a1AvaW1hZ2VzLnBuZyI7CiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkZXItYXZhdGFyJykuc3JjID0gYXZhdGFyVXJsOwogICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZS1wcmV2aWV3LWxhcmdlJykuc3JjID0gYXZhdGFyVXJsOwoKICAgICAgICAgICAgLy8gTG9hZCBGZWVkCiAgICAgICAgICAgIGNvbnN0IHBvc3RzUmVmID0gcmVmKGRiLCAncG9zdHMnKTsKICAgICAgICAgICAgb25WYWx1ZShwb3N0c1JlZiwgKHNuYXBzaG90KSA9PiB7CiAgICAgICAgICAgICAgICBjb25zdCBmZWVkQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZlZWQtY29udGFpbmVyJyk7CiAgICAgICAgICAgICAgICBmZWVkQ29udGFpbmVyLmlubmVySFRNTCA9ICcnOwogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHNuYXBzaG90LnZhbCgpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoZGF0YSkgewogICAgICAgICAgICAgICAgICAgIGNvbnN0IHBvc3RzQXJyYXkgPSBPYmplY3QuZW50cmllcyhkYXRhKS5yZXZlcnNlKCk7IC8vIE5ld2VzdCBmaXJzdAogICAgICAgICAgICAgICAgICAgIHBvc3RzQXJyYXkuZm9yRWFjaCgoW2tleSwgcG9zdF0pID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgZmVlZENvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVQb3N0RWxlbWVudChrZXksIHBvc3QpKTsKICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZmVlZENvbnRhaW5lci5pbm5lckhUTUwgPSAnPGRpdiBzdHlsZT0idGV4dC1hbGlnbjpjZW50ZXI7IHBhZGRpbmc6MjBweDsgY29sb3I6Izk5OTsiPk5vIHBvc3RzIHlldC4gQmUgdGhlIGZpcnN0ITwvZGl2Pic7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgIH0KCiAgICAgICAgLy8gLS0tIEltZ0JCIEltYWdlIFVwbG9hZCAtLS0KICAgICAgICBhc3luYyBmdW5jdGlvbiB1cGxvYWRUb0ltZ0JCKGZpbGUpIHsKICAgICAgICAgICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCJpbWFnZSIsIGZpbGUpOwogICAgICAgICAgICAKICAgICAgICAgICAgdHJ5IHsKICAgICAgICAgICAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGZldGNoKGBodHRwczovL2FwaS5pbWdiYi5jb20vMS91cGxvYWQ/a2V5PSR7SU1HQkJfQVBJX0tFWX1gLCB7CiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAiUE9TVCIsCiAgICAgICAgICAgICAgICAgICAgYm9keTogZm9ybURhdGEKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlcy5qc29uKCk7CiAgICAgICAgICAgICAgICBpZiAoZGF0YS5zdWNjZXNzKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGEuZGF0YS51cmw7CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiSW1hZ2UgdXBsb2FkIGZhaWxlZCIpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9IGNhdGNoIChlcnJvcikgewogICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7CiAgICAgICAgICAgICAgICBhbGVydCgiRmFpbGVkIHRvIHVwbG9hZCBpbWFnZS4iKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgfQoKICAgICAgICAvLyAtLS0gUG9zdCBDcmVhdGlvbiAtLS0KICAgICAgICB3aW5kb3cub3BlblBvc3RNb2RhbCA9ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3N0LW1vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgd2luZG93LmNsb3NlTW9kYWwgPSAoaWQpID0+IHsKICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpLmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpOwogICAgICAgICAgICAvLyBSZXNldCBpbnB1dHMKICAgICAgICAgICAgaWYoaWQgPT09ICdwb3N0LW1vZGFsJykgewogICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Bvc3QtZmlsZScpLnZhbHVlID0gIiI7CiAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdC1wcmV2aWV3Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJzsKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwb3N0LWNhcHRpb24nKS52YWx1ZSA9ICIiOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgd2luZG93LnByZXZpZXdJbWFnZSA9IChpbnB1dCwgaW1nSWQsIGlzUHJvZmlsZSA9IGZhbHNlKSA9PiB7CiAgICAgICAgICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkgewogICAgICAgICAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTsKICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7CiAgICAgICAgICAgICAgICAgICAgY29uc3QgaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaW1nSWQpOwogICAgICAgICAgICAgICAgICAgIGltZy5zcmMgPSBlLnRhcmdldC5yZXN1bHQ7CiAgICAgICAgICAgICAgICAgICAgaW1nLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snOwogICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGlucHV0LmZpbGVzWzBdKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIHdpbmRvdy51cGxvYWRQb3N0ID0gYXN5bmMgKCkgPT4gewogICAgICAgICAgICBjb25zdCBmaWxlSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdC1maWxlJyk7CiAgICAgICAgICAgIGNvbnN0IGNhcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncG9zdC1jYXB0aW9uJykudmFsdWU7CiAgICAgICAgICAgIAogICAgICAgICAgICBpZiAoIWZpbGVJbnB1dC5maWxlc1swXSkgcmV0dXJuIGFsZXJ0KCJQbGVhc2Ugc2VsZWN0IGFuIGltYWdlIik7CiAgICAgICAgICAgIAogICAgICAgICAgICBzaG93TG9hZGVyKHRydWUpOwogICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGF3YWl0IHVwbG9hZFRvSW1nQkIoZmlsZUlucHV0LmZpbGVzWzBdKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChpbWFnZVVybCkgewogICAgICAgICAgICAgICAgY29uc3QgbmV3UG9zdCA9IHsKICAgICAgICAgICAgICAgICAgICB1aWQ6IGN1cnJlbnRVc2VyLnVpZCwKICAgICAgICAgICAgICAgICAgICBhdXRob3JOYW1lOiBjdXJyZW50VXNlci5kaXNwbGF5TmFtZSB8fCAiVXNlciIsCiAgICAgICAgICAgICAgICAgICAgYXV0aG9yUGhvdG86IGN1cnJlbnRVc2VyLnBob3RvVVJMIHx8ICJodHRwczovL2kuaWJiLmNvL2JNbnM0NGtQL2ltYWdlcy5wbmciLAogICAgICAgICAgICAgICAgICAgIGltYWdlOiBpbWFnZVVybCwKICAgICAgICAgICAgICAgICAgICBjYXB0aW9uOiBjYXB0aW9uLAogICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgICAgICBsaWtlczoge30sCiAgICAgICAgICAgICAgICAgICAgY29tbWVudHM6IHt9CiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBhd2FpdCBwdXNoKHJlZihkYiwgJ3Bvc3RzJyksIG5ld1Bvc3QpOwogICAgICAgICAgICAgICAgc2hvd0xvYWRlcihmYWxzZSk7CiAgICAgICAgICAgICAgICB3aW5kb3cuY2xvc2VNb2RhbCgncG9zdC1tb2RhbCcpOwogICAgICAgICAgICAgICAgc2hvd1RvYXN0KCJQb3N0IGNyZWF0ZWQhIik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93TG9hZGVyKGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIC8vIC0tLSBQcm9maWxlIFVwZGF0ZSAtLS0KICAgICAgICB3aW5kb3cub3BlblByb2ZpbGVNb2RhbCA9ICgpID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlLW1vZGFsJykuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7CiAgICAgICAgCiAgICAgICAgd2luZG93LnVwZGF0ZVByb2ZpbGVQaG90byA9IGFzeW5jICgpID0+IHsKICAgICAgICAgICAgY29uc3QgZmlsZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2ZpbGUtZmlsZScpOwogICAgICAgICAgICBpZighZmlsZUlucHV0LmZpbGVzWzBdKSByZXR1cm47CgogICAgICAgICAgICBzaG93TG9hZGVyKHRydWUpOwogICAgICAgICAgICBjb25zdCBpbWFnZVVybCA9IGF3YWl0IHVwbG9hZFRvSW1nQkIoZmlsZUlucHV0LmZpbGVzWzBdKTsKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIChpbWFnZVVybCkgewogICAgICAgICAgICAgICAgLy8gVXBkYXRlIEZpcmViYXNlIEF1dGgKICAgICAgICAgICAgICAgIGF3YWl0IHVwZGF0ZVByb2ZpbGUoY3VycmVudFVzZXIsIHsgcGhvdG9VUkw6IGltYWdlVXJsIH0pOwogICAgICAgICAgICAgICAgLy8gVXBkYXRlIERhdGFiYXNlIFVzZXIgUmVjb3JkCiAgICAgICAgICAgICAgICBhd2FpdCB1cGRhdGUocmVmKGRiLCAndXNlcnMvJyArIGN1cnJlbnRVc2VyLnVpZCksIHsgcGhvdG9VUkw6IGltYWdlVXJsIH0pOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBVcGRhdGUgTG9jYWwgVUkKICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoZWFkZXItYXZhdGFyJykuc3JjID0gaW1hZ2VVcmw7CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIHNob3dMb2FkZXIoZmFsc2UpOwogICAgICAgICAgICAgICAgd2luZG93LmNsb3NlTW9kYWwoJ3Byb2ZpbGUtbW9kYWwnKTsKICAgICAgICAgICAgICAgIHNob3dUb2FzdCgiUHJvZmlsZSBwaG90byB1cGRhdGVkISIpOwogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAvLyBSZWZyZXNoIEZlZWQgdG8gc2hvdyBuZXcgYXZhdGFyPyAKICAgICAgICAgICAgICAgIC8vIEluIGEgcmVhbCBhcHAgd2UnZCB1c2UgY2xvdWQgZnVuY3Rpb25zIHRvIHVwZGF0ZSBvbGQgcG9zdHMsIAogICAgICAgICAgICAgICAgLy8gYnV0IGZvciB0aGlzIHNjb3BlLCBuZXcgcG9zdHMgd2lsbCBoYXZlIG5ldyBhdmF0YXIuCiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBzaG93TG9hZGVyKGZhbHNlKTsKICAgICAgICAgICAgfQogICAgICAgIH07CgogICAgICAgIC8vIC0tLSBSZW5kZXIgRnVuY3Rpb25zIC0tLQogICAgICAgIGZ1bmN0aW9uIGZvcm1hdFRpbWUodGltZXN0YW1wKSB7CiAgICAgICAgICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChEYXRlLm5vdygpIC0gdGltZXN0YW1wKSAvIDEwMDApOwogICAgICAgICAgICBpZiAoc2Vjb25kcyA8IDYwKSByZXR1cm4gIkp1c3Qgbm93IjsKICAgICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3Ioc2Vjb25kcyAvIDYwKTsKICAgICAgICAgICAgaWYgKG1pbnV0ZXMgPCA2MCkgcmV0dXJuIGAke21pbnV0ZXN9bSBhZ29gOwogICAgICAgICAgICBjb25zdCBob3VycyA9IE1hdGguZmxvb3IobWludXRlcyAvIDYwKTsKICAgICAgICAgICAgaWYgKGhvdXJzIDwgMjQpIHJldHVybiBgJHtob3Vyc31oIGFnb2A7CiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0ZSh0aW1lc3RhbXApLnRvTG9jYWxlRGF0ZVN0cmluZygpOwogICAgICAgIH0KCiAgICAgICAgZnVuY3Rpb24gY3JlYXRlUG9zdEVsZW1lbnQocG9zdElkLCBwb3N0KSB7CiAgICAgICAgICAgIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgICAgICAgICBkaXYuY2xhc3NOYW1lID0gJ3Bvc3QtY2FyZCBmYWRlLWluJzsKICAgICAgICAgICAgCiAgICAgICAgICAgIGNvbnN0IGlzTGlrZWQgPSBwb3N0Lmxpa2VzICYmIHBvc3QubGlrZXNbY3VycmVudFVzZXIudWlkXTsKICAgICAgICAgICAgY29uc3QgbGlrZUNvdW50ID0gcG9zdC5saWtlcyA/IE9iamVjdC5rZXlzKHBvc3QubGlrZXMpLmxlbmd0aCA6IDA7CiAgICAgICAgICAgIGNvbnN0IGlzT3duZXIgPSBwb3N0LnVpZCA9PT0gY3VycmVudFVzZXIudWlkOwoKICAgICAgICAgICAgLy8gU2FmZSBEZWZhdWx0cwogICAgICAgICAgICBjb25zdCBhdmF0YXIgPSBwb3N0LmF1dGhvclBob3RvIHx8ICJodHRwczovL2kuaWJiLmNvL2JNbnM0NGtQL2ltYWdlcy5wbmciOwogICAgICAgICAgICBjb25zdCBuYW1lID0gcG9zdC5hdXRob3JOYW1lIHx8ICJBbm9ueW1vdXMiOwoKICAgICAgICAgICAgZGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9InBvc3QtaGVhZGVyIj4KICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWF1dGhvci1pbmZvIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9IiR7YXZhdGFyfSIgY2xhc3M9InBvc3QtYXZhdGFyIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImF1dGhvci1uYW1lIj4ke25hbWV9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LXRpbWUiPiR7Zm9ybWF0VGltZShwb3N0LnRpbWVzdGFtcCl9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgICR7aXNPd25lciA/IGA8YnV0dG9uIGNsYXNzPSJkZWxldGUtYnRuIiBvbmNsaWNrPSJkZWxldGVQb3N0KCcke3Bvc3RJZH0nKSI+PGkgY2xhc3M9ImZhcyBmYS10cmFzaCI+PC9pPjwvYnV0dG9uPmAgOiAnJ30KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0icG9zdC1jYXB0aW9uIj4ke3Bvc3QuY2FwdGlvbn08L2Rpdj4KICAgICAgICAgICAgICAgIDxpbWcgc3JjPSIke3Bvc3QuaW1hZ2V9IiBjbGFzcz0icG9zdC1pbWFnZSIgbG9hZGluZz0ibGF6eSI+CiAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9InBhZGRpbmc6IDhweCAxNnB4OyBmb250LXNpemU6IDEzcHg7IGNvbG9yOiAjNjU2NzZiOyI+CiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9ImZhcyBmYS10aHVtYnMtdXAiIHN0eWxlPSJjb2xvcjogdmFyKC0tcHJpbWFyeSkiPjwvaT4gJHtsaWtlQ291bnR9IExpa2VzCiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJwb3N0LWFjdGlvbnMiPgogICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9ImFjdGlvbi1idG4gJHtpc0xpa2VkID8gJ2xpa2VkJyA6ICcnfSIgb25jbGljaz0idG9nZ2xlTGlrZSgnJHtwb3N0SWR9JywgJHtpc0xpa2VkfSkiPgogICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz0iZmFzIGZhLXRodW1icy11cCI+PC9pPiBMaWtlCiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz0iYWN0aW9uLWJ0biIgb25jbGljaz0iZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbW1lbnQtaW5wdXQtJHtwb3N0SWR9JykuZm9jdXMoKSI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPSJmYXMgZmEtY29tbWVudCI+PC9pPiBDb21tZW50CiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+CiAgICAgICAgICAgICAgICA8L2Rpdj4KCiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPSJjb21tZW50LXNlY3Rpb24iPgogICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbW1lbnQtbGlzdCIgaWQ9ImNvbW1lbnRzLSR7cG9zdElkfSI+PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz0iY29tbWVudC1pbnB1dC1hcmVhIj4KICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9InRleHQiIGlkPSJjb21tZW50LWlucHV0LSR7cG9zdElkfSIgY2xhc3M9ImNvbW1lbnQtaW5wdXQiIHBsYWNlaG9sZGVyPSJXcml0ZSBhIGNvbW1lbnQuLi4iPgogICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPSJzZW5kLWNvbW1lbnQtYnRuIiBvbmNsaWNrPSJzZW5kQ29tbWVudCgnJHtwb3N0SWR9JykiPjxpIGNsYXNzPSJmYXMgZmEtcGFwZXItcGxhbmUiPjwvaT48L2J1dHRvbj4KICAgICAgICAgICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICBgOwoKICAgICAgICAgICAgLy8gUmVuZGVyIENvbW1lbnRzCiAgICAgICAgICAgIGNvbnN0IGNvbW1lbnRMaXN0ID0gZGl2LnF1ZXJ5U2VsZWN0b3IoYCNjb21tZW50cy0ke3Bvc3RJZH1gKTsKICAgICAgICAgICAgaWYgKHBvc3QuY29tbWVudHMpIHsKICAgICAgICAgICAgICAgIE9iamVjdC52YWx1ZXMocG9zdC5jb21tZW50cykuZm9yRWFjaChjID0+IHsKICAgICAgICAgICAgICAgICAgICBjb25zdCBjRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7CiAgICAgICAgICAgICAgICAgICAgY0Rpdi5jbGFzc05hbWUgPSAnY29tbWVudC1pdGVtJzsKICAgICAgICAgICAgICAgICAgICBjRGl2LmlubmVySFRNTCA9IGAKICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9IiR7Yy5waG90byB8fCAnaHR0cHM6Ly9pLmliYi5jby9iTW5zNDRrUC9pbWFnZXMucG5nJ30iIGNsYXNzPSJjb21tZW50LWF2YXRhciI+CiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbW1lbnQtYnViYmxlIj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9ImNvbW1lbnQtYXV0aG9yIj4ke2MubmFtZX08L2Rpdj4KICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+JHtjLnRleHR9PC9kaXY+CiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PgogICAgICAgICAgICAgICAgICAgIGA7CiAgICAgICAgICAgICAgICAgICAgY29tbWVudExpc3QuYXBwZW5kQ2hpbGQoY0Rpdik7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgcmV0dXJuIGRpdjsKICAgICAgICB9CgogICAgICAgIC8vIC0tLSBJbnRlcmFjdGlvbiBMb2dpYyAtLS0KICAgICAgICB3aW5kb3cuZGVsZXRlUG9zdCA9IChwb3N0SWQpID0+IHsKICAgICAgICAgICAgaWYoY29uZmlybSgiQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSB0aGlzIHBvc3Q/IikpIHsKICAgICAgICAgICAgICAgIHJlbW92ZShyZWYoZGIsICdwb3N0cy8nICsgcG9zdElkKSk7CiAgICAgICAgICAgICAgICBzaG93VG9hc3QoIlBvc3QgZGVsZXRlZCIpOwogICAgICAgICAgICB9CiAgICAgICAgfTsKCiAgICAgICAgd2luZG93LnRvZ2dsZUxpa2UgPSAocG9zdElkLCBpc0xpa2VkKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZXMgPSB7fTsKICAgICAgICAgICAgaWYgKGlzTGlrZWQpIHsKICAgICAgICAgICAgICAgIHVwZGF0ZXNbYHBvc3RzLyR7cG9zdElkfS9saWtlcy8ke2N1cnJlbnRVc2VyLnVpZH1gXSA9IG51bGw7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICB1cGRhdGVzW2Bwb3N0cy8ke3Bvc3RJZH0vbGlrZXMvJHtjdXJyZW50VXNlci51aWR9YF0gPSB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIHVwZGF0ZShyZWYoZGIpLCB1cGRhdGVzKTsKICAgICAgICB9OwoKICAgICAgICB3aW5kb3cuc2VuZENvbW1lbnQgPSAocG9zdElkKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGNvbW1lbnQtaW5wdXQtJHtwb3N0SWR9YCk7CiAgICAgICAgICAgIGNvbnN0IHRleHQgPSBpbnB1dC52YWx1ZS50cmltKCk7CiAgICAgICAgICAgIGlmICghdGV4dCkgcmV0dXJuOwoKICAgICAgICAgICAgY29uc3QgbmV3Q29tbWVudCA9IHsKICAgICAgICAgICAgICAgIHVpZDogY3VycmVudFVzZXIudWlkLAogICAgICAgICAgICAgICAgbmFtZTogY3VycmVudFVzZXIuZGlzcGxheU5hbWUsCiAgICAgICAgICAgICAgICBwaG90bzogY3VycmVudFVzZXIucGhvdG9VUkwsCiAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0LAogICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpCiAgICAgICAgICAgIH07CgogICAgICAgICAgICBwdXNoKHJlZihkYiwgYHBvc3RzLyR7cG9zdElkfS9jb21tZW50c2ApLCBuZXdDb21tZW50KTsKICAgICAgICAgICAgaW5wdXQudmFsdWUgPSAnJzsKICAgICAgICB9OwoKICAgIDwvc2NyaXB0Pgo8L2JvZHk+CjwvaHRtbD4="))));</script>
